(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={listItem:"ImageGalleryItem_listItem__3_aMW",photoCard:"ImageGalleryItem_photoCard__1-tEw"}},13:function(e,t,a){e.exports={buttonStyle:"Button_buttonStyle__23L_z"}},14:function(e,t,a){e.exports={box:"App_box__2i0B9"}},25:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(11),r=a.n(o),i=(a(25),a(10)),s=a(3),l=a(8),u=a.n(l),b=a(19),j=a(1);function m(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],r=c[1];return Object(j.jsx)("header",{className:u.a.searchbar,children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),r("")):alert("Enter text.")},className:"SearchForm",children:[Object(j.jsx)("button",{type:"submit",className:u.a.searchButton,children:Object(j.jsx)(b.a,{style:{marginRight:8}})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",name:"imageName",value:o,onChange:function(e){r(e.target.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var d=a(12),h=a.n(d);function f(e){var t=e.webformatURL,a=e.id,n=e.openModal,c=e.largeImageURL;return Object(j.jsx)("img",{src:t,alt:a,"data-source":c,onClick:n,className:h.a.photoCard})}var g=a(9),p=a.n(g);function O(e){var t=e.images,a=e.openModal;return Object(j.jsx)("ul",{className:p.a.gallery,children:t.map((function(e,t){var n=e.webformatURL,c=e.id,o=e.largeImageURL;return Object(j.jsx)("li",{className:p.a.listItem,children:Object(j.jsx)(f,{id:c,webformatURL:n,largeImageURL:o,openModal:a})},t)}))})}var x={fetchImages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"23001140-4461295a2c2bf2ca42afdabe3";return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat(n,"&image_type=photo&orientation=horizontal&per_page=").concat(a)).then((function(e){if(e.ok)return e.json()}))}},_=x,v=a(13),y=a.n(v);function w(e){var t=e.onClick;return Object(j.jsx)("button",{className:y.a.buttonStyle,type:"button",onClick:t,children:"Load More"})}var S=a(6),I=a.n(S);function C(e){var t=e.onClose,a=e.src;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(j.jsx)("div",{className:I.a.ModalBackdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(j.jsx)("div",{className:I.a.ModalContent,children:Object(j.jsx)("img",{className:I.a.imgpoz,src:a,alt:""})})})}var M=a(14),k=a.n(M),L=(a(27),a(15)),N=a(16),U=a(20),B=a(18),R=a(17),E=a.n(R),F=function(e){Object(U.a)(a,e);var t=Object(B.a)(a);function a(){return Object(L.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){return Object(j.jsx)(E.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:2e3})}}]),a}(n.Component),G="idle",z="pending",J="resolved",T="rejected";function W(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),r=Object(s.a)(o,2),l=r[0],u=r[1],b=Object(n.useState)(null),d=Object(s.a)(b,2),h=d[0],f=d[1],g=Object(n.useState)(G),p=Object(s.a)(g,2),x=p[0],v=p[1],y=Object(n.useState)(1),S=Object(s.a)(y,2),I=S[0],M=S[1],L=Object(n.useState)(""),N=Object(s.a)(L,2),U=N[0],B=N[1],R=Object(n.useState)(!1),E=Object(s.a)(R,2),W=E[0],A=E[1];Object(n.useEffect)((function(){l&&(v(z),_.fetchImages(l,I).then((function(e){var t=e.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}));c((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),v(J),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){f(e),v(T)})))}),[l,I]);var H=function(){A(!W)};return Object(j.jsxs)("div",{className:k.a.box,children:[Object(j.jsx)(m,{onSubmit:function(e){u(e),c([]),M(1)}}),0!==a.length&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{images:a,openModal:function(e){B(e.target.dataset.source),H()}}),x===z&&Object(j.jsx)(F,{})]}),W&&Object(j.jsx)(C,{onClose:H,src:U}),x===z&&0===a.length&&Object(j.jsx)(F,{}),x===T&&Object(j.jsx)("h2",{children:h.message}),x===J&&0!==a.length&&Object(j.jsx)(w,{onClick:function(){M((function(e){return e+1}))}})]})}r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(W,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={ModalBackdrop:"Modal_ModalBackdrop__T4lUB",ModalContent:"Modal_ModalContent__2U4WW",imgpoz:"Modal_imgpoz__2iedH"}},8:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__18JAG",searchButton:"Searchbar_searchButton__3gU-G"}},9:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__o8ZN7",listItem:"ImageGallery_listItem__OpUZi"}}},[[48,1,2]]]);
//# sourceMappingURL=main.7c4db7e8.chunk.js.map